---
title: Security update available for Adobe Commerce - [!DNL APSB24-40] Revised to include isolated patch for [!DNL CVE-2024-34102]
promoted: true
description: Apply a patch to remediate [!DNL CVE-2024-34102] for Adobe Commerce 2.4.4-p8, 2.4.5-p7, 2.4.6-p5, 2.4.7 and earlier versions.
feature: Compliance, Security
role: Developer
---
# Security update available for Adobe Commerce - [!DNL APSB24-40] Revised to include isolated patch for [!DNL CVE-2024-34102]

>[!NOTE]
>
>**This is an urgent update to our last communication regarding [!DNL CVE-2024-34102]. Adobe is aware that [!DNL CVE-2024-34102] has been used in limited attacks targeting Adobe Commerce merchants. <u>Please take immediate action to resolve the vulnerability, if you have not done so</u>.<br><br>1. Apply the security update and/or isolated patch.<br>2. <u>You must rotate your [!UICONTROL encryption keys]</u>, in addition to applying the security update and/or isolated patch for this issue.**<br><br>Details on how to apply the security update or isolated patch, and rotate the [!UICONTROL encryption keys], are detailed in this instruction page and below.

On June 11, 2024, Adobe released a security update for Adobe Commerce, Magento Open Source, and Adobe Commerce [!DNL Webhooks Plugin]. This update resolves critical and important vulnerabilities.  Successful exploitation could lead to arbitrary code execution, security feature bypass and privilege escalation.

**On June 27, 2024, Adobe released an isolated patch for [!DNL CVE-2024-34102].**

**Additional information about [!DNL CVE-2024-34102] can be found in the [Adobe Security Bulletin ([!DNL APSB24-40])](https://helpx.adobe.com/security/products/magento/apsb24-40.html).**

**The fix for [!DNL CVE-2024-34102] is also included as part of the security patches released on released on June 11, 2024, in Adobe Commerce and Magento Open Source versions 2.4.7-p1, 2.4.6-p6, 2.4.5-p8, and 2.4.4-p9, and in Adobe Commerce [!DNL Webhooks Plugin] version 1.5.0.** 

Due to the criticality of [!DNL CVE-2024-34102], Adobe released an isolated patch to help you remediate this vulnerability and give you more time to apply the full security patch.

**Please apply the latest security patch and/or isolated patch below as soon as possible.**
Additionally, you must also **rotate/change the [!UICONTROL encryption keys]** after applying the patch.
**If you fail to rotate your [!UICONTROL encryption keys], **you could continue to be vulnerable to these types of attacks even after patching**.<br>
Adobe will have limited means to help remediate until you apply the patches or upgrade to the latest version of Adobe Commerce.**<br>

>[!NOTE]
>
>To ensure you are still safe after upgrading, you must also **[rotate your [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)**.

In this article you will find how to implement the isolated patch for this issue for the current and earlier versions of Adobe Commerce and Magento Open Source. 
 
## Affected products and versions

Adobe Commerce on Cloud, Adobe Commerce on-premise, and Magento Open Source:

* 2.4.7 and earlier
* 2.4.6-p5 and earlier
* 2.4.5-p7 and earlier
* 2.4.4-p8 and earlier

## Solution for Adobe Commerce on Cloud, Adobe Commerce on-premise Software, and Magento Open Source 

To help resolve the vulnerability for the affected products and versions, you must apply the [!DNL VULN-27015] patch (dependent on your version) and rotate your [!UICONTROL encryption keys].

## Isolated Patch Details

Use the following attached patches, depending on your Adobe Commerce/Magento Open Source version:

### For version 2.4.7:

* [VULN-27015-2.4.7_COMPOSER_patch.zip](assets/VULN-27015-2.4.7_COMPOSER_patch.zip)

### For versions 2.4.6, 2.4.6-p1, 2.4.6-p2, 2.4.6-p3, 2.4.6-p4, 2.4.6-p5:

* [VULN-27015-2.4.6x_COMPOSER_patch.zip](assets/VULN-27015-2.4.6x_COMPOSER_patch.zip)

### For versions 2.4.5, 2.4.5-p1, 2.4.5-p2, 2.4.5-p3, 2.4.5-p4, 2.4.5-p5, 2.4.5-p6, 2.4.5-p7:

* [VULN-27015-2.4.5x_COMPOSER_patch.zip](assets/VULN-27015-2.4.5x_COMPOSER_patch.zip)

### For versions 2.4.4, 2.4.4-p1, 2.4.4-p2, 2.4.4-p3, 2.4.4-p4, 2.4.4-p5, 2.4.4-p6, 2.4.4-p7, 2.4.4-p8:

* [VULN-27015-2.4.4x_COMPOSER_patch.zip](assets/VULN-27015-2.4.4x_COMPOSER_patch.zip)


## How to apply the isolated patch

Unzip the file and see [How to apply a composer patch provided by Adobe](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html) in our support knowledge base for instructions.

## For Adobe Commerce on Cloud merchants only - How to tell whether the isolated patches have been applied

Considering that it isn't possible to easily check if the issue was patched, you might want to check whether the [!DNL VULN-27015] isolated patch has been successfully applied. 

<u>You can do this by taking the following steps, using the file `VULN-27015-2.4.7_COMPOSER.patch` as an example</u>:

1. [Install the Quality Patches Tool](https://experienceleague.adobe.com/docs/commerce-operations/tools/quality-patches-tool/usage.html).
1. Run the command:<br>
 ![cve-2024-34102-tell-if-patch-applied-code](assets/cve-2024-34102-tell-if-patch-applied-code.png)

<!--
    ```bash
    vendor/bin/magento-patches -n status |grep "27015\|Status"
    ```
-->

1. You should see output similar to this, where VULN-27015 returns the *Applied* status:

    ```bash
    ║ Id            │ Title                                                        │ Category        │ Origin                 │ Status      │ Details                                          ║ ║ N/A           │ ../m2-hotfixes/VULN-27015-2.4.7_COMPOSER_patch.patch      │ Other           │ Local                  │ Applied     │ Patch type: Custom                                
    ```

## Rotate/change the [!UICONTROL encryption key] after applying the patch

* For guidance **on how to rotate/change the [!UICONTROL encryption key] after applying the patch, please refer to [Admin systems guide: [!UICONTROL Encryption key]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)** in the Commerce Admin Systems Guide documentation.

## Security updates

Security updates available for Adobe Commerce:

* [Adobe Security Bulletin ([!DNL APSB24-40])](https://helpx.adobe.com/security/products/magento/apsb24-40.html)
